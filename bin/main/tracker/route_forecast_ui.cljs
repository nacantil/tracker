(ns tracker.route-forecast-ui
	(:require 
		[reagent.core :as r]
	    [reagent.dom :as dom]
	    [cljs.pprint :refer [pprint]]
        [tracker.components.modal :as m]
        ["react-draft-wysiwyg" :refer (Editor)]
        [reagent-modals.modals :as reagent-modals] ;; I needed to expose more "modal" functionality ...
		[tracker.state :as state]
        [tracker.ship-info :as shipInfo]
        [tracker.forecast :as forecast]
        [tracker.utils :as utils]
        ["react-select" :default Select]
	    [reagent-contextmenu.menu :as menu]
    )
)

(def routeData (r/atom []))

;; I may or may not use this ... I'm thinking this atom will contain a collection of the currently filtered routes ...
(def filteredRouteData (r/atom {}))


;; Defines the row data for the table ...
(set! routeData
	[
		{"uuid" (utils/generate-uuid) "fwc" "FWC-SD" "start-dtg" "2022-10-31" "region" "EPAC" "forecast" "GWEAX" "limits-date" "2018-06-18" "limits" {"ahead" 5, "astern" 8, "side" 6} "forecast-info" {"limit"  2, "type" "WIND", "action" "GWEAX", "assignee" "CDO", "circle" "#BDBDBD", "rectangle" "#0F5C93"}, "routing-info" {"limit" 26, "action" "DIVERT", "assignee" "CDO", "circle" "#705500", "rectangle" "#810404"}, "ship" {"name" "USS Luke", "location" "location info 1", "urn" "1", "hull" 1, "status" "DIVERT"}, "waypoints" {{"eta" "2022-08-10T10:23:33.849Z", "lat" 23.10958187243728, "lon" 122.67230643260636} {"eta" "2022-08-10T11:23:33.849Z", "lat" 24.127777121932684, "lon" 127.06053823291802} {"eta" "2022-08-10T12:23:33.849Z", "lat" 25.755461673593, "lon" 129.5396042499772} {"eta" "2022-08-10T13:23:33.849Z", "lat" 27.71487256600017, "lon" 131.13532490463598} {"eta" "2022-08-11T14:23:33.849Z", "lat" 28.993726843732688, "lon" 133.04449068788844} {"eta" "2022-08-11T15:23:33.849Z", "lat" 31.674056311645145, "lon" 136.66335717256106} {"eta" "2022-08-11T16:23:33.849Z", "lat" 31.722544941052384, "lon" 139.2848982480719} {"eta" "2022-08-11T17:23:33.849Z", "lat" 34.27920660835556, "lon" 142.61881461584116} {"eta" "2022-08-12T18:23:33.849Z", "lat" 36.965595755955256, "lon" 145.12637564459067} {"eta" "2022-08-12T19:23:33.849Z", "lat" 38.49796088217475, "lon" 145.52530577162437} {"eta" "2022-08-12T20:23:33.849Z", "lat" 41.84980543108766, "lon" 146.40865113402478} {"eta" "2022-08-12T21:23:33.849Z", "lat" 43.44259192330542, "lon" 149.6570824406345} {"eta" "2022-08-12T22:23:33.849Z", "lat" 43.46327757901166, "lon" 157.35073559702505} {"eta" "2022-08-13T23:23:33.849Z", "lat" 45.8743050597557, "lon" 159.5733465088712}}}
		{"uuid" (utils/generate-uuid) "fwc" "FWC-SD" "start-dtg" "2022-10-31" "region" "EPAC" "forecast" "GWEAX" "limits-date" "2018-06-18" "limits" {"ahead" 10, "astern" 22, "side" 16} "forecast-info" {"limit" 13, "type" "WAVES", "action" "GWEAX", "assignee" "FDO", "circle" "#810404", "rectangle" "#FFFFFF"}, "routing-info" {"limit" 12, "action" "DIVERT", "assignee" "SUP", "circle" "#705500", "rectangle" "#707070"}, "ship" {"name" "USS Enterprise", "location" "location info 2", "urn" "2", "hull" 2, "status" "DIVERT"}, "waypoints" {{"eta" "2022-08-10T10:23:33.849Z", "lat" 23.10958187243728, "lon" 122.67230643260636} {"eta" "2022-08-10T11:23:33.849Z", "lat" 24.127777121932684, "lon" 127.06053823291802} {"eta" "2022-08-10T12:23:33.849Z", "lat" 25.755461673593, "lon" 129.5396042499772} {"eta" "2022-08-10T13:23:33.849Z", "lat" 27.71487256600017, "lon" 131.13532490463598} {"eta" "2022-08-11T14:23:33.849Z", "lat" 28.993726843732688, "lon" 133.04449068788844} {"eta" "2022-08-11T15:23:33.849Z", "lat" 31.674056311645145, "lon" 136.66335717256106} {"eta" "2022-08-11T16:23:33.849Z", "lat" 31.722544941052384, "lon" 139.2848982480719} {"eta" "2022-08-11T17:23:33.849Z", "lat" 34.27920660835556, "lon" 142.61881461584116} {"eta" "2022-08-12T18:23:33.849Z", "lat" 36.965595755955256, "lon" 145.12637564459067} {"eta" "2022-08-12T19:23:33.849Z", "lat" 38.49796088217475, "lon" 145.52530577162437} {"eta" "2022-08-12T20:23:33.849Z", "lat" 41.84980543108766, "lon" 146.40865113402478} {"eta" "2022-08-12T21:23:33.849Z", "lat" 43.44259192330542, "lon" 149.6570824406345} {"eta" "2022-08-12T22:23:33.849Z", "lat" 43.46327757901166, "lon" 157.35073559702505} {"eta" "2022-08-13T23:23:33.849Z", "lat" 45.8743050597557, "lon" 159.5733465088712}}}
		{"uuid" (utils/generate-uuid) "fwc" "FWC-SD" "start-dtg" "2022-10-31" "region" "EPAC" "forecast" "GWEAX" "limits-date" "2018-06-18" "limits" {"ahead" 5, "astern" 12, "side" 6} "forecast-info" {"limit" 10, "type" "WAVES", "action" "GWEAX", "assignee" "CTW", "circle" "#E69138", "rectangle" "#FFD966"}, "routing-info" {"limit" 53, "action" "DIVERT", "assignee" "SRO", "circle" "#0F5C93", "rectangle" "#E69138"}, "ship" {"name" "USS Spock", "location" "location info 3", "urn" "3", "hull" 3, "status" "DIVERT"}, "waypoints" {{"eta" "2022-08-10T10:23:33.849Z", "lat" 23.10958187243728, "lon" 122.67230643260636} {"eta" "2022-08-10T11:23:33.849Z", "lat" 24.127777121932684, "lon" 127.06053823291802} {"eta" "2022-08-10T12:23:33.849Z", "lat" 25.755461673593, "lon" 129.5396042499772} {"eta" "2022-08-10T13:23:33.849Z", "lat" 27.71487256600017, "lon" 131.13532490463598} {"eta" "2022-08-11T14:23:33.849Z", "lat" 28.993726843732688, "lon" 133.04449068788844} {"eta" "2022-08-11T15:23:33.849Z", "lat" 31.674056311645145, "lon" 136.66335717256106} {"eta" "2022-08-11T16:23:33.849Z", "lat" 31.722544941052384, "lon" 139.2848982480719} {"eta" "2022-08-11T17:23:33.849Z", "lat" 34.27920660835556, "lon" 142.61881461584116} {"eta" "2022-08-12T18:23:33.849Z", "lat" 36.965595755955256, "lon" 145.12637564459067} {"eta" "2022-08-12T19:23:33.849Z", "lat" 38.49796088217475, "lon" 145.52530577162437} {"eta" "2022-08-12T20:23:33.849Z", "lat" 41.84980543108766, "lon" 146.40865113402478} {"eta" "2022-08-12T21:23:33.849Z", "lat" 43.44259192330542, "lon" 149.6570824406345} {"eta" "2022-08-12T22:23:33.849Z", "lat" 43.46327757901166, "lon" 157.35073559702505} {"eta" "2022-08-13T23:23:33.849Z", "lat" 45.8743050597557, "lon" 159.5733465088712}}}
		{"uuid" (utils/generate-uuid) "fwc" "FWC-SD" "start-dtg" "2022-10-31" "region" "EPAC" "forecast" "GWEAX" "limits-date" "2018-06-18" "limits" {"ahead" 1, "astern" 12, "side" 6} "forecast-info" {"limit"  8, "type" "WIND", "action" "GWEAX", "assignee" "FDO", "circle" "#75BEF3", "rectangle" "#FF7D7D"}, "routing-info" {"limit" 11, "action" "DIVERT", "assignee" "FDO", "circle" "#783F04", "rectangle" "#705500"}, "ship" {"name" "USS Kirk", "location" "location info 4", "urn" "4", "hull" 4, "status" "DIVERT"}, "waypoints" {{"eta" "2022-08-10T10:23:33.849Z", "lat" 23.10958187243728, "lon" 122.67230643260636} {"eta" "2022-08-10T11:23:33.849Z", "lat" 24.127777121932684, "lon" 127.06053823291802} {"eta" "2022-08-10T12:23:33.849Z", "lat" 25.755461673593, "lon" 129.5396042499772} {"eta" "2022-08-10T13:23:33.849Z", "lat" 27.71487256600017, "lon" 131.13532490463598} {"eta" "2022-08-11T14:23:33.849Z", "lat" 28.993726843732688, "lon" 133.04449068788844} {"eta" "2022-08-11T15:23:33.849Z", "lat" 31.674056311645145, "lon" 136.66335717256106} {"eta" "2022-08-11T16:23:33.849Z", "lat" 31.722544941052384, "lon" 139.2848982480719} {"eta" "2022-08-11T17:23:33.849Z", "lat" 34.27920660835556, "lon" 142.61881461584116} {"eta" "2022-08-12T18:23:33.849Z", "lat" 36.965595755955256, "lon" 145.12637564459067} {"eta" "2022-08-12T19:23:33.849Z", "lat" 38.49796088217475, "lon" 145.52530577162437} {"eta" "2022-08-12T20:23:33.849Z", "lat" 41.84980543108766, "lon" 146.40865113402478} {"eta" "2022-08-12T21:23:33.849Z", "lat" 43.44259192330542, "lon" 149.6570824406345} {"eta" "2022-08-12T22:23:33.849Z", "lat" 43.46327757901166, "lon" 157.35073559702505} {"eta" "2022-08-13T23:23:33.849Z", "lat" 45.8743050597557, "lon" 159.5733465088712}}}
		{"uuid" (utils/generate-uuid) "fwc" "FWC-SD" "start-dtg" "2022-10-31" "region" "EPAC" "forecast" "GWEAX" "limits-date" "2018-06-18" "limits" {"ahead" 20, "astern" 12, "side" 6} "forecast-info" {"limit" 16, "type" "WAVES", "action" "GWEAX", "assignee" "FDO", "circle" "#810404", "rectangle" "#810404"}, "routing-info" {"limit" 19, "action" "DIVERT", "assignee" "SUP", "circle" "#FF7D7D", "rectangle" "#707070"}, "ship" {"name" "USS Bones", "location" "location info 5", "urn" "5", "hull" 5, "status" "DIVERT"}, "waypoints" {{"eta" "2022-08-10T10:23:33.849Z", "lat" 23.10958187243728, "lon" 122.67230643260636} {"eta" "2022-08-10T11:23:33.849Z", "lat" 24.127777121932684, "lon" 127.06053823291802} {"eta" "2022-08-10T12:23:33.849Z", "lat" 25.755461673593, "lon" 129.5396042499772} {"eta" "2022-08-10T13:23:33.849Z", "lat" 27.71487256600017, "lon" 131.13532490463598} {"eta" "2022-08-11T14:23:33.849Z", "lat" 28.993726843732688, "lon" 133.04449068788844} {"eta" "2022-08-11T15:23:33.849Z", "lat" 31.674056311645145, "lon" 136.66335717256106} {"eta" "2022-08-11T16:23:33.849Z", "lat" 31.722544941052384, "lon" 139.2848982480719} {"eta" "2022-08-11T17:23:33.849Z", "lat" 34.27920660835556, "lon" 142.61881461584116} {"eta" "2022-08-12T18:23:33.849Z", "lat" 36.965595755955256, "lon" 145.12637564459067} {"eta" "2022-08-12T19:23:33.849Z", "lat" 38.49796088217475, "lon" 145.52530577162437} {"eta" "2022-08-12T20:23:33.849Z", "lat" 41.84980543108766, "lon" 146.40865113402478} {"eta" "2022-08-12T21:23:33.849Z", "lat" 43.44259192330542, "lon" 149.6570824406345} {"eta" "2022-08-12T22:23:33.849Z", "lat" 43.46327757901166, "lon" 157.35073559702505} {"eta" "2022-08-13T23:23:33.849Z", "lat" 45.8743050597557, "lon" 159.5733465088712}}}
		{"uuid" (utils/generate-uuid) "fwc" "FWC-SD" "start-dtg" "2022-10-31" "region" "EPAC" "forecast" "GWEAX" "limits-date" "2018-06-18" "limits" {"ahead" 20, "astern" 12, "side" 6} "forecast-info" {"limit" 26, "type" "WIND", "action" "GWEAX", "assignee" "SUP", "circle" "#FFD966", "rectangle" "#FF7D7D"}, "routing-info" {"limit" 32, "action" "DIVERT", "assignee" "SRO", "circle" "#810404", "rectangle" "#D42626"}, "ship" {"name" "USS Scotty", "location" "location info 6", "urn" "6", "hull" 6, "status" "DIVERT"}, "waypoints" {{"eta" "2022-08-10T10:23:33.849Z", "lat" 23.10958187243728, "lon" 122.67230643260636} {"eta" "2022-08-10T11:23:33.849Z", "lat" 24.127777121932684, "lon" 127.06053823291802} {"eta" "2022-08-10T12:23:33.849Z", "lat" 25.755461673593, "lon" 129.5396042499772} {"eta" "2022-08-10T13:23:33.849Z", "lat" 27.71487256600017, "lon" 131.13532490463598} {"eta" "2022-08-11T14:23:33.849Z", "lat" 28.993726843732688, "lon" 133.04449068788844} {"eta" "2022-08-11T15:23:33.849Z", "lat" 31.674056311645145, "lon" 136.66335717256106} {"eta" "2022-08-11T16:23:33.849Z", "lat" 31.722544941052384, "lon" 139.2848982480719} {"eta" "2022-08-11T17:23:33.849Z", "lat" 34.27920660835556, "lon" 142.61881461584116} {"eta" "2022-08-12T18:23:33.849Z", "lat" 36.965595755955256, "lon" 145.12637564459067} {"eta" "2022-08-12T19:23:33.849Z", "lat" 38.49796088217475, "lon" 145.52530577162437} {"eta" "2022-08-12T20:23:33.849Z", "lat" 41.84980543108766, "lon" 146.40865113402478} {"eta" "2022-08-12T21:23:33.849Z", "lat" 43.44259192330542, "lon" 149.6570824406345} {"eta" "2022-08-12T22:23:33.849Z", "lat" 43.46327757901166, "lon" 157.35073559702505} {"eta" "2022-08-13T23:23:33.849Z", "lat" 45.8743050597557, "lon" 159.5733465088712}}}
		{"uuid" (utils/generate-uuid) "fwc" "FWC-SD" "start-dtg" "2022-10-31" "region" "EPAC" "forecast" "GWEAX" "limits-date" "2018-06-18" "limits" {"ahead" 11, "astern" 12, "side" 6} "forecast-info" {"limit" 68, "type" "WAVES", "action" "GWEAX", "assignee" "SRO", "circle" "#783F04", "rectangle" "#D42626"}, "routing-info" {"limit" 41, "action" "DIVERT", "assignee" "CTW", "circle" "#75BEF3", "rectangle" "#F9CB9C"}, "ship" {"name" "USS Uhura", "location" "location info 7", "urn" "7", "hull" 7, "status" "INPORT"}, "waypoints" {{"eta" "2022-08-10T10:23:33.849Z", "lat" 23.10958187243728, "lon" 122.67230643260636} {"eta" "2022-08-10T11:23:33.849Z", "lat" 24.127777121932684, "lon" 127.06053823291802} {"eta" "2022-08-10T12:23:33.849Z", "lat" 25.755461673593, "lon" 129.5396042499772} {"eta" "2022-08-10T13:23:33.849Z", "lat" 27.71487256600017, "lon" 131.13532490463598} {"eta" "2022-08-11T14:23:33.849Z", "lat" 28.993726843732688, "lon" 133.04449068788844} {"eta" "2022-08-11T15:23:33.849Z", "lat" 31.674056311645145, "lon" 136.66335717256106} {"eta" "2022-08-11T16:23:33.849Z", "lat" 31.722544941052384, "lon" 139.2848982480719} {"eta" "2022-08-11T17:23:33.849Z", "lat" 34.27920660835556, "lon" 142.61881461584116} {"eta" "2022-08-12T18:23:33.849Z", "lat" 36.965595755955256, "lon" 145.12637564459067} {"eta" "2022-08-12T19:23:33.849Z", "lat" 38.49796088217475, "lon" 145.52530577162437} {"eta" "2022-08-12T20:23:33.849Z", "lat" 41.84980543108766, "lon" 146.40865113402478} {"eta" "2022-08-12T21:23:33.849Z", "lat" 43.44259192330542, "lon" 149.6570824406345} {"eta" "2022-08-12T22:23:33.849Z", "lat" 43.46327757901166, "lon" 157.35073559702505} {"eta" "2022-08-13T23:23:33.849Z", "lat" 45.8743050597557, "lon" 159.5733465088712}}}
		{"uuid" (utils/generate-uuid) "fwc" "FWC-SD" "start-dtg" "2022-10-31" "region" "EPAC" "forecast" "GWEAX" "limits-date" "2018-06-18" "limits" {"ahead" 12, "astern" 12, "side" 6} "forecast-info" {"limit" 35, "type" "WIND", "action" "GWEAX", "assignee" "CTW", "circle" "#707070", "rectangle" "#75BEF3"}, "routing-info" {"limit" 19, "action" "DIVERT", "assignee" "CDO", "circle" "#783F04", "rectangle" "#0F5C93"}, "ship" {"name" "USS Sulu", "location" "location info 8", "urn" "8", "hull" 8, "status" "INPORT"}, "waypoints" {{"eta" "2022-08-10T10:23:33.849Z", "lat" 23.10958187243728, "lon" 122.67230643260636} {"eta" "2022-08-10T11:23:33.849Z", "lat" 24.127777121932684, "lon" 127.06053823291802} {"eta" "2022-08-10T12:23:33.849Z", "lat" 25.755461673593, "lon" 129.5396042499772} {"eta" "2022-08-10T13:23:33.849Z", "lat" 27.71487256600017, "lon" 131.13532490463598} {"eta" "2022-08-11T14:23:33.849Z", "lat" 28.993726843732688, "lon" 133.04449068788844} {"eta" "2022-08-11T15:23:33.849Z", "lat" 31.674056311645145, "lon" 136.66335717256106} {"eta" "2022-08-11T16:23:33.849Z", "lat" 31.722544941052384, "lon" 139.2848982480719} {"eta" "2022-08-11T17:23:33.849Z", "lat" 34.27920660835556, "lon" 142.61881461584116} {"eta" "2022-08-12T18:23:33.849Z", "lat" 36.965595755955256, "lon" 145.12637564459067} {"eta" "2022-08-12T19:23:33.849Z", "lat" 38.49796088217475, "lon" 145.52530577162437} {"eta" "2022-08-12T20:23:33.849Z", "lat" 41.84980543108766, "lon" 146.40865113402478} {"eta" "2022-08-12T21:23:33.849Z", "lat" 43.44259192330542, "lon" 149.6570824406345} {"eta" "2022-08-12T22:23:33.849Z", "lat" 43.46327757901166, "lon" 157.35073559702505} {"eta" "2022-08-13T23:23:33.849Z", "lat" 45.8743050597557, "lon" 159.5733465088712}}}
		{"uuid" (utils/generate-uuid) "fwc" "FWC-SD" "start-dtg" "2022-10-31" "region" "EPAC" "forecast" "GWEAX" "limits-date" "2018-06-18" "limits" {"ahead" 13, "astern" 12, "side" 6} "forecast-info" {"limit" 20, "type" "WAVES", "action" "GWEAX", "assignee" "FDO", "circle" "#FFFFFF", "rectangle" "#BF9000"}, "routing-info" {"limit" 10, "action" "DIVERT", "assignee" "FDO", "circle" "#27A2FB", "rectangle" "#FFD966"}, "ship" {"name" "USS Chewbacca", "location" "location info 9", "urn" "9", "hull" 9, "status" "DIVERT"}, "waypoints" {{"eta" "2022-08-10T10:23:33.849Z", "lat" 23.10958187243728, "lon" 122.67230643260636} {"eta" "2022-08-10T11:23:33.849Z", "lat" 24.127777121932684, "lon" 127.06053823291802} {"eta" "2022-08-10T12:23:33.849Z", "lat" 25.755461673593, "lon" 129.5396042499772} {"eta" "2022-08-10T13:23:33.849Z", "lat" 27.71487256600017, "lon" 131.13532490463598} {"eta" "2022-08-11T14:23:33.849Z", "lat" 28.993726843732688, "lon" 133.04449068788844} {"eta" "2022-08-11T15:23:33.849Z", "lat" 31.674056311645145, "lon" 136.66335717256106} {"eta" "2022-08-11T16:23:33.849Z", "lat" 31.722544941052384, "lon" 139.2848982480719} {"eta" "2022-08-11T17:23:33.849Z", "lat" 34.27920660835556, "lon" 142.61881461584116} {"eta" "2022-08-12T18:23:33.849Z", "lat" 36.965595755955256, "lon" 145.12637564459067} {"eta" "2022-08-12T19:23:33.849Z", "lat" 38.49796088217475, "lon" 145.52530577162437} {"eta" "2022-08-12T20:23:33.849Z", "lat" 41.84980543108766, "lon" 146.40865113402478} {"eta" "2022-08-12T21:23:33.849Z", "lat" 43.44259192330542, "lon" 149.6570824406345} {"eta" "2022-08-12T22:23:33.849Z", "lat" 43.46327757901166, "lon" 157.35073559702505} {"eta" "2022-08-13T23:23:33.849Z", "lat" 45.8743050597557, "lon" 159.5733465088712}}}
		{"uuid" (utils/generate-uuid) "fwc" "FWC-SD" "start-dtg" "2022-10-31" "region" "EPAC" "forecast" "GWEAX" "limits-date" "2018-06-18" "limits" {"ahead" 31, "astern" 12, "side" 6} "forecast-info" {"limit" 15, "type" "WAVES", "action" "GWEAX", "assignee" "SUP", "circle" "#705500", "rectangle" "#D42626"}, "routing-info" {"limit" 15, "action" "DIVERT", "assignee" "SUP", "circle" "#BF9000", "rectangle" "#E69138"}, "ship" {"name" "USS Anakin", "location" "location info 10", "urn" "10", "hull" 10, "status" "INPORT"}, "waypoints" {{"eta" "2022-08-10T10:23:33.849Z", "lat" 23.10958187243728, "lon" 122.67230643260636} {"eta" "2022-08-10T11:23:33.849Z", "lat" 24.127777121932684, "lon" 127.06053823291802} {"eta" "2022-08-10T12:23:33.849Z", "lat" 25.755461673593, "lon" 129.5396042499772} {"eta" "2022-08-10T13:23:33.849Z", "lat" 27.71487256600017, "lon" 131.13532490463598} {"eta" "2022-08-11T14:23:33.849Z", "lat" 28.993726843732688, "lon" 133.04449068788844} {"eta" "2022-08-11T15:23:33.849Z", "lat" 31.674056311645145, "lon" 136.66335717256106} {"eta" "2022-08-11T16:23:33.849Z", "lat" 31.722544941052384, "lon" 139.2848982480719} {"eta" "2022-08-11T17:23:33.849Z", "lat" 34.27920660835556, "lon" 142.61881461584116} {"eta" "2022-08-12T18:23:33.849Z", "lat" 36.965595755955256, "lon" 145.12637564459067} {"eta" "2022-08-12T19:23:33.849Z", "lat" 38.49796088217475, "lon" 145.52530577162437} {"eta" "2022-08-12T20:23:33.849Z", "lat" 41.84980543108766, "lon" 146.40865113402478} {"eta" "2022-08-12T21:23:33.849Z", "lat" 43.44259192330542, "lon" 149.6570824406345} {"eta" "2022-08-12T22:23:33.849Z", "lat" 43.46327757901166, "lon" 157.35073559702505} {"eta" "2022-08-13T23:23:33.849Z", "lat" 45.8743050597557, "lon" 159.5733465088712}}}
		{"uuid" (utils/generate-uuid) "fwc" "FWC-SD" "start-dtg" "2022-10-31" "region" "EPAC" "forecast" "GWEAX" "limits-date" "2018-06-18" "limits" {"ahead" 1, "astern" 12, "side" 6} "forecast-info" {"limit" 11, "type" "WIND", "action" "GWEAX", "assignee" "SRO", "circle" "#BDBDBD", "rectangle" "#FFD966"}, "routing-info" {"limit" 31, "action" "DIVERT", "assignee" "SRO", "circle" "#F9CB9C", "rectangle" "#0F5C93"}, "ship" {"name" "USS Han", "location" "location info 11", "urn" "11", "hull" 11, "status" "INPORT"}, "waypoints" {{"eta" "2022-08-10T10:23:33.849Z", "lat" 23.10958187243728, "lon" 122.67230643260636} {"eta" "2022-08-10T11:23:33.849Z", "lat" 24.127777121932684, "lon" 127.06053823291802} {"eta" "2022-08-10T12:23:33.849Z", "lat" 25.755461673593, "lon" 129.5396042499772} {"eta" "2022-08-10T13:23:33.849Z", "lat" 27.71487256600017, "lon" 131.13532490463598} {"eta" "2022-08-11T14:23:33.849Z", "lat" 28.993726843732688, "lon" 133.04449068788844} {"eta" "2022-08-11T15:23:33.849Z", "lat" 31.674056311645145, "lon" 136.66335717256106} {"eta" "2022-08-11T16:23:33.849Z", "lat" 31.722544941052384, "lon" 139.2848982480719} {"eta" "2022-08-11T17:23:33.849Z", "lat" 34.27920660835556, "lon" 142.61881461584116} {"eta" "2022-08-12T18:23:33.849Z", "lat" 36.965595755955256, "lon" 145.12637564459067} {"eta" "2022-08-12T19:23:33.849Z", "lat" 38.49796088217475, "lon" 145.52530577162437} {"eta" "2022-08-12T20:23:33.849Z", "lat" 41.84980543108766, "lon" 146.40865113402478} {"eta" "2022-08-12T21:23:33.849Z", "lat" 43.44259192330542, "lon" 149.6570824406345} {"eta" "2022-08-12T22:23:33.849Z", "lat" 43.46327757901166, "lon" 157.35073559702505} {"eta" "2022-08-13T23:23:33.849Z", "lat" 45.8743050597557, "lon" 159.5733465088712}}}
		{"uuid" (utils/generate-uuid) "fwc" "FWC-SD" "start-dtg" "2022-10-31" "region" "EPAC" "forecast" "GWEAX" "limits-date" "2018-06-18" "limits" {"ahead" 2, "astern" 12, "side" 6} "forecast-info" {"limit" 17, "type" "WAVES", "action" "GWEAX", "assignee" "CTW", "circle" "#783F04", "rectangle" "#E69138"}, "routing-info" {"limit"  9, "action" "DIVERT", "assignee" "CTW", "circle" "#F9CB9C", "rectangle" "#705500"}, "ship" {"name" "USS Leia", "location" "location info 12", "urn" "12", "hull" 12, "status" "DIVERT"}, "waypoints" {{"eta" "2022-08-10T10:23:33.849Z", "lat" 23.10958187243728, "lon" 122.67230643260636} {"eta" "2022-08-10T11:23:33.849Z", "lat" 24.127777121932684, "lon" 127.06053823291802} {"eta" "2022-08-10T12:23:33.849Z", "lat" 25.755461673593, "lon" 129.5396042499772} {"eta" "2022-08-10T13:23:33.849Z", "lat" 27.71487256600017, "lon" 131.13532490463598} {"eta" "2022-08-11T14:23:33.849Z", "lat" 28.993726843732688, "lon" 133.04449068788844} {"eta" "2022-08-11T15:23:33.849Z", "lat" 31.674056311645145, "lon" 136.66335717256106} {"eta" "2022-08-11T16:23:33.849Z", "lat" 31.722544941052384, "lon" 139.2848982480719} {"eta" "2022-08-11T17:23:33.849Z", "lat" 34.27920660835556, "lon" 142.61881461584116} {"eta" "2022-08-12T18:23:33.849Z", "lat" 36.965595755955256, "lon" 145.12637564459067} {"eta" "2022-08-12T19:23:33.849Z", "lat" 38.49796088217475, "lon" 145.52530577162437} {"eta" "2022-08-12T20:23:33.849Z", "lat" 41.84980543108766, "lon" 146.40865113402478} {"eta" "2022-08-12T21:23:33.849Z", "lat" 43.44259192330542, "lon" 149.6570824406345} {"eta" "2022-08-12T22:23:33.849Z", "lat" 43.46327757901166, "lon" 157.35073559702505} {"eta" "2022-08-13T23:23:33.849Z", "lat" 45.8743050597557, "lon" 159.5733465088712}}}
		{"uuid" (utils/generate-uuid) "fwc" "FWC-SD" "start-dtg" "2022-10-31" "region" "EPAC" "forecast" "GWEAX" "limits-date" "2018-06-18" "limits" {"ahead" 5, "astern" 12, "side" 6} "forecast-info" {"limit" 34, "type" "WAVES", "action" "GWEAX", "assignee" "CDO", "circle" "#75BEF3", "rectangle" "#BF9000"}, "routing-info" {"limit"  8, "action" "DIVERT", "assignee" "CDO", "circle" "#BDBDBD", "rectangle" "#FFFFFF"}, "ship" {"name" "USS Mando", "location" "location info 13", "urn" "13", "hull" 13, "status" "DIVERT"}, "waypoints" {{"eta" "2022-08-10T10:23:33.849Z", "lat" 23.10958187243728, "lon" 122.67230643260636} {"eta" "2022-08-10T11:23:33.849Z", "lat" 24.127777121932684, "lon" 127.06053823291802} {"eta" "2022-08-10T12:23:33.849Z", "lat" 25.755461673593, "lon" 129.5396042499772} {"eta" "2022-08-10T13:23:33.849Z", "lat" 27.71487256600017, "lon" 131.13532490463598} {"eta" "2022-08-11T14:23:33.849Z", "lat" 28.993726843732688, "lon" 133.04449068788844} {"eta" "2022-08-11T15:23:33.849Z", "lat" 31.674056311645145, "lon" 136.66335717256106} {"eta" "2022-08-11T16:23:33.849Z", "lat" 31.722544941052384, "lon" 139.2848982480719} {"eta" "2022-08-11T17:23:33.849Z", "lat" 34.27920660835556, "lon" 142.61881461584116} {"eta" "2022-08-12T18:23:33.849Z", "lat" 36.965595755955256, "lon" 145.12637564459067} {"eta" "2022-08-12T19:23:33.849Z", "lat" 38.49796088217475, "lon" 145.52530577162437} {"eta" "2022-08-12T20:23:33.849Z", "lat" 41.84980543108766, "lon" 146.40865113402478} {"eta" "2022-08-12T21:23:33.849Z", "lat" 43.44259192330542, "lon" 149.6570824406345} {"eta" "2022-08-12T22:23:33.849Z", "lat" 43.46327757901166, "lon" 157.35073559702505} {"eta" "2022-08-13T23:23:33.849Z", "lat" 45.8743050597557, "lon" 159.5733465088712}}}
		{"uuid" (utils/generate-uuid) "fwc" "FWC-SD" "start-dtg" "2022-10-31" "region" "EPAC" "forecast" "GWEAX" "limits-date" "2018-06-18" "limits" {"ahead" 10, "astern" 12, "side" 6} "forecast-info" {"limit" 56, "type" "WIND", "action" "GWEAX", "assignee" "FDO", "circle" "#BDBDBD", "rectangle" "#0F5C93"}, "routing-info" {"limit" 33, "action" "DIVERT", "assignee" "FDO", "circle" "#707070", "rectangle" "#783F04"}, "ship" {"name" "USS C3PO", "location" "location info 14", "urn" "14", "hull" 14, "status" "DIVERT"}, "waypoints" {{"eta" "2022-08-10T10:23:33.849Z", "lat" 23.10958187243728, "lon" 122.67230643260636} {"eta" "2022-08-10T11:23:33.849Z", "lat" 24.127777121932684, "lon" 127.06053823291802} {"eta" "2022-08-10T12:23:33.849Z", "lat" 25.755461673593, "lon" 129.5396042499772} {"eta" "2022-08-10T13:23:33.849Z", "lat" 27.71487256600017, "lon" 131.13532490463598} {"eta" "2022-08-11T14:23:33.849Z", "lat" 28.993726843732688, "lon" 133.04449068788844} {"eta" "2022-08-11T15:23:33.849Z", "lat" 31.674056311645145, "lon" 136.66335717256106} {"eta" "2022-08-11T16:23:33.849Z", "lat" 31.722544941052384, "lon" 139.2848982480719} {"eta" "2022-08-11T17:23:33.849Z", "lat" 34.27920660835556, "lon" 142.61881461584116} {"eta" "2022-08-12T18:23:33.849Z", "lat" 36.965595755955256, "lon" 145.12637564459067} {"eta" "2022-08-12T19:23:33.849Z", "lat" 38.49796088217475, "lon" 145.52530577162437} {"eta" "2022-08-12T20:23:33.849Z", "lat" 41.84980543108766, "lon" 146.40865113402478} {"eta" "2022-08-12T21:23:33.849Z", "lat" 43.44259192330542, "lon" 149.6570824406345} {"eta" "2022-08-12T22:23:33.849Z", "lat" 43.46327757901166, "lon" 157.35073559702505} {"eta" "2022-08-13T23:23:33.849Z", "lat" 45.8743050597557, "lon" 159.5733465088712}}}
		{"uuid" (utils/generate-uuid) "fwc" "FWC-SD" "start-dtg" "2022-10-31" "region" "EPAC" "forecast" "GWEAX" "limits-date" "2018-06-18" "limits" {"ahead" 10, "astern" 12, "side" 6} "forecast-info" {"limit" 11, "type" "WIND", "action" "GWEAX", "assignee" "SUP", "circle" "#707070", "rectangle" "#F9CB9C"}, "routing-info" {"limit"  6, "action" "DIVERT", "assignee" "SUP", "circle" "#FFFFFF", "rectangle" "#75BEF3"}, "ship" {"name" "USS R2D2", "location" "location info 15", "urn" "15", "hull" 15, "status" "DIVERT"}, "waypoints" {{"eta" "2022-08-10T10:23:33.849Z", "lat" 23.10958187243728, "lon" 122.67230643260636} {"eta" "2022-08-10T11:23:33.849Z", "lat" 24.127777121932684, "lon" 127.06053823291802} {"eta" "2022-08-10T12:23:33.849Z", "lat" 25.755461673593, "lon" 129.5396042499772} {"eta" "2022-08-10T13:23:33.849Z", "lat" 27.71487256600017, "lon" 131.13532490463598} {"eta" "2022-08-11T14:23:33.849Z", "lat" 28.993726843732688, "lon" 133.04449068788844} {"eta" "2022-08-11T15:23:33.849Z", "lat" 31.674056311645145, "lon" 136.66335717256106} {"eta" "2022-08-11T16:23:33.849Z", "lat" 31.722544941052384, "lon" 139.2848982480719} {"eta" "2022-08-11T17:23:33.849Z", "lat" 34.27920660835556, "lon" 142.61881461584116} {"eta" "2022-08-12T18:23:33.849Z", "lat" 36.965595755955256, "lon" 145.12637564459067} {"eta" "2022-08-12T19:23:33.849Z", "lat" 38.49796088217475, "lon" 145.52530577162437} {"eta" "2022-08-12T20:23:33.849Z", "lat" 41.84980543108766, "lon" 146.40865113402478} {"eta" "2022-08-12T21:23:33.849Z", "lat" 43.44259192330542, "lon" 149.6570824406345} {"eta" "2022-08-12T22:23:33.849Z", "lat" 43.46327757901166, "lon" 157.35073559702505} {"eta" "2022-08-13T23:23:33.849Z", "lat" 45.8743050597557, "lon" 159.5733465088712}}}
		{"uuid" (utils/generate-uuid) "fwc" "FWC-SD" "start-dtg" "2022-10-31" "region" "EPAC" "forecast" "GWEAX" "limits-date" "2018-06-18" "limits" {"ahead" 10, "astern" 12, "side" 6} "forecast-info" {"limit"  9, "type" "WIND", "action" "GWEAX", "assignee" "SRO", "circle" "#75BEF3", "rectangle" "#E69138"}, "routing-info" {"limit" 24, "action" "DIVERT", "assignee" "SRO", "circle" "#BF9000", "rectangle" "#FFD966"}, "ship" {"name" "USS Lando", "location" "location info 16", "urn" "16", "hull" 16, "status" "DIVERT"}, "waypoints" {{"eta" "2022-08-10T10:23:33.849Z", "lat" 23.10958187243728, "lon" 122.67230643260636} {"eta" "2022-08-10T11:23:33.849Z", "lat" 24.127777121932684, "lon" 127.06053823291802} {"eta" "2022-08-10T12:23:33.849Z", "lat" 25.755461673593, "lon" 129.5396042499772} {"eta" "2022-08-10T13:23:33.849Z", "lat" 27.71487256600017, "lon" 131.13532490463598} {"eta" "2022-08-11T14:23:33.849Z", "lat" 28.993726843732688, "lon" 133.04449068788844} {"eta" "2022-08-11T15:23:33.849Z", "lat" 31.674056311645145, "lon" 136.66335717256106} {"eta" "2022-08-11T16:23:33.849Z", "lat" 31.722544941052384, "lon" 139.2848982480719} {"eta" "2022-08-11T17:23:33.849Z", "lat" 34.27920660835556, "lon" 142.61881461584116} {"eta" "2022-08-12T18:23:33.849Z", "lat" 36.965595755955256, "lon" 145.12637564459067} {"eta" "2022-08-12T19:23:33.849Z", "lat" 38.49796088217475, "lon" 145.52530577162437} {"eta" "2022-08-12T20:23:33.849Z", "lat" 41.84980543108766, "lon" 146.40865113402478} {"eta" "2022-08-12T21:23:33.849Z", "lat" 43.44259192330542, "lon" 149.6570824406345} {"eta" "2022-08-12T22:23:33.849Z", "lat" 43.46327757901166, "lon" 157.35073559702505} {"eta" "2022-08-13T23:23:33.849Z", "lat" 45.8743050597557, "lon" 159.5733465088712}}}
		{"uuid" (utils/generate-uuid) "fwc" "FWC-SD" "start-dtg" "2022-10-31" "region" "EPAC" "forecast" "GWEAX" "limits-date" "2018-06-18" "limits" {"ahead" 10, "astern" 12, "side" 6} "forecast-info" {"limit" 23, "type" "WAVES", "action" "GWEAX", "assignee" "CTW", "circle" "#F9CB9C", "rectangle" "#705500"}, "routing-info" {"limit" 21, "action" "DIVERT", "assignee" "CTW", "circle" "#0F5C93", "rectangle" "#27A2FB"}, "ship" {"name" "USS Kenobi", "location" "location info 17", "urn" "17", "hull" 17, "status" "DIVERT"}, "waypoints" {{"eta" "2022-08-10T10:23:33.849Z", "lat" 23.10958187243728, "lon" 122.67230643260636} {"eta" "2022-08-10T11:23:33.849Z", "lat" 24.127777121932684, "lon" 127.06053823291802} {"eta" "2022-08-10T12:23:33.849Z", "lat" 25.755461673593, "lon" 129.5396042499772} {"eta" "2022-08-10T13:23:33.849Z", "lat" 27.71487256600017, "lon" 131.13532490463598} {"eta" "2022-08-11T14:23:33.849Z", "lat" 28.993726843732688, "lon" 133.04449068788844} {"eta" "2022-08-11T15:23:33.849Z", "lat" 31.674056311645145, "lon" 136.66335717256106} {"eta" "2022-08-11T16:23:33.849Z", "lat" 31.722544941052384, "lon" 139.2848982480719} {"eta" "2022-08-11T17:23:33.849Z", "lat" 34.27920660835556, "lon" 142.61881461584116} {"eta" "2022-08-12T18:23:33.849Z", "lat" 36.965595755955256, "lon" 145.12637564459067} {"eta" "2022-08-12T19:23:33.849Z", "lat" 38.49796088217475, "lon" 145.52530577162437} {"eta" "2022-08-12T20:23:33.849Z", "lat" 41.84980543108766, "lon" 146.40865113402478} {"eta" "2022-08-12T21:23:33.849Z", "lat" 43.44259192330542, "lon" 149.6570824406345} {"eta" "2022-08-12T22:23:33.849Z", "lat" 43.46327757901166, "lon" 157.35073559702505} {"eta" "2022-08-13T23:23:33.849Z", "lat" 45.8743050597557, "lon" 159.5733465088712}}}
		{"uuid" (utils/generate-uuid) "fwc" "FWC-SD" "start-dtg" "2022-10-31" "region" "EPAC" "forecast" "GWEAX" "limits-date" "2018-06-18" "limits" {"ahead" 10, "astern" 12, "side" 6} "forecast-info" {"limit" 12, "type" "WIND", "action" "GWEAX", "assignee" "CDO", "circle" "#27A2FB", "rectangle" "#BDBDBD"}, "routing-info" {"limit" 16, "action" "DIVERT", "assignee" "CDO", "circle" "#E69138", "rectangle" "#D42626"}, "ship" {"name" "USS Boba Fett", "location" "location info 18", "urn" "18", "hull" 18, "status" "INPORT"}, "waypoints" {{"eta" "2022-08-10T10:23:33.849Z", "lat" 23.10958187243728, "lon" 122.67230643260636} {"eta" "2022-08-10T11:23:33.849Z", "lat" 24.127777121932684, "lon" 127.06053823291802} {"eta" "2022-08-10T12:23:33.849Z", "lat" 25.755461673593, "lon" 129.5396042499772} {"eta" "2022-08-10T13:23:33.849Z", "lat" 27.71487256600017, "lon" 131.13532490463598} {"eta" "2022-08-11T14:23:33.849Z", "lat" 28.993726843732688, "lon" 133.04449068788844} {"eta" "2022-08-11T15:23:33.849Z", "lat" 31.674056311645145, "lon" 136.66335717256106} {"eta" "2022-08-11T16:23:33.849Z", "lat" 31.722544941052384, "lon" 139.2848982480719} {"eta" "2022-08-11T17:23:33.849Z", "lat" 34.27920660835556, "lon" 142.61881461584116} {"eta" "2022-08-12T18:23:33.849Z", "lat" 36.965595755955256, "lon" 145.12637564459067} {"eta" "2022-08-12T19:23:33.849Z", "lat" 38.49796088217475, "lon" 145.52530577162437} {"eta" "2022-08-12T20:23:33.849Z", "lat" 41.84980543108766, "lon" 146.40865113402478} {"eta" "2022-08-12T21:23:33.849Z", "lat" 43.44259192330542, "lon" 149.6570824406345} {"eta" "2022-08-12T22:23:33.849Z", "lat" 43.46327757901166, "lon" 157.35073559702505} {"eta" "2022-08-13T23:23:33.849Z", "lat" 45.8743050597557, "lon" 159.5733465088712}}}
		{"uuid" (utils/generate-uuid) "fwc" "FWC-SD" "start-dtg" "2022-10-31" "region" "EPAC" "forecast" "GWEAX" "limits-date" "2018-06-18" "limits" {"ahead" 10, "astern" 12, "side" 6} "forecast-info" {"limit" 44, "type" "WIND", "action" "GWEAX", "assignee" "FDO", "circle" "#BF9000", "rectangle" "#707070"}, "routing-info" {"limit" 51, "action" "DIVERT", "assignee" "FDO", "circle" "#0F5C93", "rectangle" "#FFD966"}, "ship" {"name" "USS Darth Vader", "location" "location info 19", "urn" "19", "hull" 19, "status" "DIVERT"}, "waypoints" {{"eta" "2022-08-10T10:23:33.849Z", "lat" 23.10958187243728, "lon" 122.67230643260636} {"eta" "2022-08-10T11:23:33.849Z", "lat" 24.127777121932684, "lon" 127.06053823291802} {"eta" "2022-08-10T12:23:33.849Z", "lat" 25.755461673593, "lon" 129.5396042499772} {"eta" "2022-08-10T13:23:33.849Z", "lat" 27.71487256600017, "lon" 131.13532490463598} {"eta" "2022-08-11T14:23:33.849Z", "lat" 28.993726843732688, "lon" 133.04449068788844} {"eta" "2022-08-11T15:23:33.849Z", "lat" 31.674056311645145, "lon" 136.66335717256106} {"eta" "2022-08-11T16:23:33.849Z", "lat" 31.722544941052384, "lon" 139.2848982480719} {"eta" "2022-08-11T17:23:33.849Z", "lat" 34.27920660835556, "lon" 142.61881461584116} {"eta" "2022-08-12T18:23:33.849Z", "lat" 36.965595755955256, "lon" 145.12637564459067} {"eta" "2022-08-12T19:23:33.849Z", "lat" 38.49796088217475, "lon" 145.52530577162437} {"eta" "2022-08-12T20:23:33.849Z", "lat" 41.84980543108766, "lon" 146.40865113402478} {"eta" "2022-08-12T21:23:33.849Z", "lat" 43.44259192330542, "lon" 149.6570824406345} {"eta" "2022-08-12T22:23:33.849Z", "lat" 43.46327757901166, "lon" 157.35073559702505} {"eta" "2022-08-13T23:23:33.849Z", "lat" 45.8743050597557, "lon" 159.5733465088712}}}
		{"uuid" (utils/generate-uuid) "fwc" "FWC-SD" "start-dtg" "2022-10-31" "region" "EPAC" "forecast" "GWEAX" "limits-date" "2018-06-18" "limits" {"ahead" 10, "astern" 12, "side" 6} "forecast-info" {"limit" 14, "type" "WAVES", "action" "GWEAX", "assignee" "SUP", "circle" "#810404", "rectangle" "#FFD966"}, "routing-info" {"limit" 21, "action" "DIVERT", "assignee" "SUP", "circle" "#E69138", "rectangle" "#0F5C93"}, "ship" {"name" "USS BB8", "location" "location info 20", "urn" "20", "hull" 20, "status" "DIVERT"}, "waypoints" {{"eta" "2022-08-10T10:23:33.849Z", "lat" 23.10958187243728, "lon" 122.67230643260636} {"eta" "2022-08-10T11:23:33.849Z", "lat" 24.127777121932684, "lon" 127.06053823291802} {"eta" "2022-08-10T12:23:33.849Z", "lat" 25.755461673593, "lon" 129.5396042499772} {"eta" "2022-08-10T13:23:33.849Z", "lat" 27.71487256600017, "lon" 131.13532490463598} {"eta" "2022-08-11T14:23:33.849Z", "lat" 28.993726843732688, "lon" 133.04449068788844} {"eta" "2022-08-11T15:23:33.849Z", "lat" 31.674056311645145, "lon" 136.66335717256106} {"eta" "2022-08-11T16:23:33.849Z", "lat" 31.722544941052384, "lon" 139.2848982480719} {"eta" "2022-08-11T17:23:33.849Z", "lat" 34.27920660835556, "lon" 142.61881461584116} {"eta" "2022-08-12T18:23:33.849Z", "lat" 36.965595755955256, "lon" 145.12637564459067} {"eta" "2022-08-12T19:23:33.849Z", "lat" 38.49796088217475, "lon" 145.52530577162437} {"eta" "2022-08-12T20:23:33.849Z", "lat" 41.84980543108766, "lon" 146.40865113402478} {"eta" "2022-08-12T21:23:33.849Z", "lat" 43.44259192330542, "lon" 149.6570824406345} {"eta" "2022-08-12T22:23:33.849Z", "lat" 43.46327757901166, "lon" 157.35073559702505} {"eta" "2022-08-13T23:23:33.849Z", "lat" 45.8743050597557, "lon" 159.5733465088712}}}
		{"uuid" (utils/generate-uuid) "fwc" "FWC-SD" "start-dtg" "2022-10-31" "region" "EPAC" "forecast" "GWEAX" "limits-date" "2018-06-18" "limits" {"ahead" 10, "astern" 12, "side" 6} "forecast-info" {"limit" 1,  "type" "WIND", "action" "GWEAX", "assignee" "SUP", "circle" "#75BEF3", "rectangle" "#FFD966"}, "routing-info" {"limit" 21, "action" "DIVERT", "assignee" "SUP", "circle" "#75BEF3", "rectangle" "#705500"}, "ship" {"name" "USS Andor", "location" "location info 21", "urn" "21", "hull" 21, "status" "INPORT"}, "waypoints" {{"eta" "2022-08-10T10:23:33.849Z", "lat" 23.10958187243728, "lon" 122.67230643260636} {"eta" "2022-08-10T11:23:33.849Z", "lat" 24.127777121932684, "lon" 127.06053823291802} {"eta" "2022-08-10T12:23:33.849Z", "lat" 25.755461673593, "lon" 129.5396042499772} {"eta" "2022-08-10T13:23:33.849Z", "lat" 27.71487256600017, "lon" 131.13532490463598} {"eta" "2022-08-11T14:23:33.849Z", "lat" 28.993726843732688, "lon" 133.04449068788844} {"eta" "2022-08-11T15:23:33.849Z", "lat" 31.674056311645145, "lon" 136.66335717256106} {"eta" "2022-08-11T16:23:33.849Z", "lat" 31.722544941052384, "lon" 139.2848982480719} {"eta" "2022-08-11T17:23:33.849Z", "lat" 34.27920660835556, "lon" 142.61881461584116} {"eta" "2022-08-12T18:23:33.849Z", "lat" 36.965595755955256, "lon" 145.12637564459067} {"eta" "2022-08-12T19:23:33.849Z", "lat" 38.49796088217475, "lon" 145.52530577162437} {"eta" "2022-08-12T20:23:33.849Z", "lat" 41.84980543108766, "lon" 146.40865113402478} {"eta" "2022-08-12T21:23:33.849Z", "lat" 43.44259192330542, "lon" 149.6570824406345} {"eta" "2022-08-12T22:23:33.849Z", "lat" 43.46327757901166, "lon" 157.35073559702505} {"eta" "2022-08-13T23:23:33.849Z", "lat" 45.8743050597557, "lon" 159.5733465088712}}}
		{"uuid" (utils/generate-uuid) "fwc" "FWC-SD" "start-dtg" "2022-10-31" "region" "EPAC" "forecast" "GWEAX" "limits-date" "2018-06-18" "limits" {"ahead" 10, "astern" 12, "side" 6} "forecast-info" {"limit" 99, "type" "WAVES", "action" "GWEAX", "assignee" "SUP", "circle" "#FFD966", "rectangle" "#BDBDBD"}, "routing-info" {"limit" 99, "action" "DIVERT", "assignee" "SUP", "circle" "#27A2FB", "rectangle" "#783F04"}, "ship" {"name" "USS Zeb", "location" "location info 22", "urn" "22", "hull" 22, "status" "DIVERT"}, "waypoints" {{"eta" "2022-08-10T10:23:33.849Z", "lat" 23.10958187243728, "lon" 122.67230643260636} {"eta" "2022-08-10T11:23:33.849Z", "lat" 24.127777121932684, "lon" 127.06053823291802} {"eta" "2022-08-10T12:23:33.849Z", "lat" 25.755461673593, "lon" 129.5396042499772} {"eta" "2022-08-10T13:23:33.849Z", "lat" 27.71487256600017, "lon" 131.13532490463598} {"eta" "2022-08-11T14:23:33.849Z", "lat" 28.993726843732688, "lon" 133.04449068788844} {"eta" "2022-08-11T15:23:33.849Z", "lat" 31.674056311645145, "lon" 136.66335717256106} {"eta" "2022-08-11T16:23:33.849Z", "lat" 31.722544941052384, "lon" 139.2848982480719} {"eta" "2022-08-11T17:23:33.849Z", "lat" 34.27920660835556, "lon" 142.61881461584116} {"eta" "2022-08-12T18:23:33.849Z", "lat" 36.965595755955256, "lon" 145.12637564459067} {"eta" "2022-08-12T19:23:33.849Z", "lat" 38.49796088217475, "lon" 145.52530577162437} {"eta" "2022-08-12T20:23:33.849Z", "lat" 41.84980543108766, "lon" 146.40865113402478} {"eta" "2022-08-12T21:23:33.849Z", "lat" 43.44259192330542, "lon" 149.6570824406345} {"eta" "2022-08-12T22:23:33.849Z", "lat" 43.46327757901166, "lon" 157.35073559702505} {"eta" "2022-08-13T23:23:33.849Z", "lat" 45.8743050597557, "lon" 159.5733465088712}}}
	]
)

(def role-options
 	[
		{:label "Role-1" :value "role-1"}
 	  	{:label "Role-2" :value "role-2"}
 	  	{:label "Role-3" :value "role-3"}
 	  	{:label "Role-4" :value "role-4"}
 	  	{:label "Role-5" :value "role-5"}
	]
)

(def options
	[
		{:label "Option-1" :value "option-1"}
 	  	{:label "Option-2" :value "option-2"}
 	  	{:label "Option-3" :value "option-3"}
 	  	{:label "Option-4" :value "option-4"}
 	  	{:label "Option-5" :value "option-5"}
	]
)

(def route-filter (r/atom {"fwc" #{} "region" #{}}))

(def ROW_DEFAULT_COLOR "#333333")

(def ROW_SELECTION_COLOR "gray")

;; NOTE: Should every widget know about what route is selected!?!?
;; Currently using for the ship sidebar UI ...
(def selected-route (r/atom nil))

;; DTG ...
(def currentDTG (r/atom (utils/format-current-DTG)))
(defn timerCallback
	[event]
		(let [date (utils/format-current-DTG)]
			(reset! currentDTG date)
		)
)

(defn- compare-filter
  [route k v]
  (= (get route k) v))

(defn- compare-all-filters-keep
  [route filter]
  (if (every? (fn [[k v]]
                (compare-filter route k v))
              (seq filter))
    route
    nil))

(defn filter-routes
  [routes filter]
  (keep #(compare-all-filters-keep % filter) routes))

(js/setInterval timerCallback 1000)

;; Used for sorting the columns of the table
(def app-state (r/atom {:sort-val :name :ascending true}))
(def forecast-column (r/atom ""))
(def ship-column (r/atom ""))
(def location-column (r/atom ""))
(def routing-column (r/atom ""))

;; Use to help sort table columns ...
(defn update-sort-value 
	[new-val]

		(reset! forecast-column "")
		(reset! ship-column "")
		(reset! location-column "")
		(reset! routing-column "")

		(if (= new-val (:sort-val @app-state))
    		(swap! app-state update-in [:ascending] not)
    		(swap! app-state assoc :ascending true)
    	)
    
  		(swap! app-state assoc :sort-val new-val)
  
		(condp = new-val
  			:forecast-limit
				(if (= (:ascending @app-state) true)
					(reset! forecast-column (char 9650))
					(reset! forecast-column (char 9660))
				)
  			:name
				(if (= (:ascending @app-state) true)
					(reset! ship-column (char 9650))
					(reset! ship-column (char 9660))
				)
  			:location
				(if (= (:ascending @app-state) true)
					(reset! location-column (char 9650))
					(reset! location-column (char 9660))
				)
  			:routing-limit
				(if (= (:ascending @app-state) true)
					(reset! routing-column (char 9650))
					(reset! routing-column (char 9660))
				)
   		)
)

;; NOTE: To do primary and secondary sorting, sort twice! Think about it!!!!!
(defn sorted-contents 
	[items]
		(let [sorted-contents (sort-by (:sort-val @app-state) items)]
    		(if (:ascending @app-state)
				sorted-contents
				(rseq sorted-contents)
			)
    	)
)

;; NOTE: Maybe this is how you do it ...
;; First, sort array using the tertiary-sort-key
;; Then, sort array using the secondary-sort-key
;; Finally, sort array using the primary-sort-key
;; Will have to test ...
(defn sorted-contents-by-key 
	[items key]
		(let [sorted-contents (sort-by key items)]
    		(if (:ascending @app-state)
				sorted-contents
				(rseq sorted-contents)
			)
    	)
)

;; Trying to sort using primary, secondary and event tertiary keys ...
(defn multi-sorted-contents
	[items primary-sort-key secondary-sort-key tertiary-sort-key]
		(let
			[
				tertiary-sorted-items (sorted-contents-by-key tertiary-sort-key items)
				secondary-sorted-items (sorted-contents-by-key secondary-sort-key tertiary-sorted-items)
				primary-sorted-items (sorted-contents-by-key primary-sort-key secondary-sorted-items)
			]
				primary-sorted-items
		)
)
      
;; Use to help sort table columns ...
(defn add-new-attributes 
	[updated-items updated-item item]
    	(reset! updated-item (merge item {:name (get (get item "ship") "name")}))
    	(reset! updated-item (merge @updated-item {:location (get (get item "ship") "location")}))
    	(reset! updated-item (merge @updated-item {:routing-limit (get (get item "routing-info") "limit")}))
    	(reset! updated-item (merge @updated-item {:forecast-limit (get (get item "forecast-info") "limit")}))
        (reset! updated-items (conj @updated-items @updated-item))
)
      
;; Use to help sort table columns ...
(defn pre-process-items 
    [items]
	    (let [updated-items (atom []) updated-item (atom {})]
			(doall
          		(for [[i s] (map-indexed (fn [i x] [i x]) items)]
             		^{:key i} 
             		(add-new-attributes updated-items updated-item s)
           		)
       		)
       		;;return the sorted routes ...
	   		(sorted-contents @updated-items)	
    	)
)


;; Role that is selected ...
(def role-selection (r/atom {}))
(reset! role-selection (get role-options 0))

;; Option that is selected
(def option-selection (r/atom {}))
(reset! option-selection (get options 0))

;; Select component
(defn select [{:keys [components on-change options is-multi is-searchable value customStyles]}]
 	(r/create-element
 	   Select
 		   #js {:components components
 		        :onChange on-change
 		        :isMulti is-multi
 		        :value (clj->js value)
 		        :isSearchable is-searchable
 		        :options (clj->js options)
 		        :menuPosition "fixed"
 		        :style (clj->js customStyles)
 	        }
 	 )
)

(defn buttonOnClick
	[event]
)

;; Contains special logic for highlighting the row when clicked ... I'll need to figure out how to use the CSS pseudo class "active" later ...
(defn tableRowOnClick
	[event route]
		(let [uuid1 (get route "uuid") uuid2 (get @selected-route "uuid")]
			(if (= uuid1 uuid2)
				(reset! selected-route nil)
				(reset! selected-route route)
			)
		)
)

;; Handler for when the mouse enters a row ...
(defn tableRowOnMouseEnter
	[event]
)

(defn ToggleButton
	[item1 item2 {:keys [on-click]}]
		[:button {:key item1 :id item1 :value (str item1 (str "-" item2)) :on-click on-click :class "button-unselected" :style {}} 
			item1[:br]item2
		]
)

(defn Button
	[name]
		[:button {:class "btn-workflow" :key name :id name :value name :on-click buttonOnClick} name]
)

(defn ForecastIndicatorEventHandler
	[route event]
	(reset! selected-route nil)
	(m/modal! (utils/show-msg "" (str "Do something with Route " (get route "uuid") "!")))
)
            
;; Forecast Indicator badge ...
(defn Forecast
	[route]
		(let [forecast (get route "forecast-info") circleColor (atom "white") circleFillColor (atom ROW_SELECTION_COLOR) rectangleColor (atom "white") rectangleFillColor (atom ROW_SELECTION_COLOR)]
	
	  		(if (= "#FFFFFF" (get forecast "circle"))
	  			(reset! circleColor "black")
	  		)
	
	  		(if (= "#FFFFFF" (get forecast "rectangle"))
	  			(reset! rectangleColor "black")
	  		)
	  		
	  		(if (nil? (get forecast "circle"))
				(reset! circleFillColor ROW_DEFAULT_COLOR) ;; If no data ...
				(reset! circleFillColor (get forecast "circle"))
	  		)
	
	  		(if (nil? (get forecast "rectangle"))
				(reset! rectangleFillColor ROW_DEFAULT_COLOR) ;; If no data ...
				(reset! rectangleFillColor (get forecast "rectangle"))
	  		)
	
	    	[:div {:class "container" :style {:1pointer-events "none"} :on-click (fn[event] (ForecastIndicatorEventHandler route event))}
	  			[:div {:style {:border "gray solid 3px" :backgroundColor @circleFillColor :color @circleColor} :class "box forecast-round-btn-badge"} (get forecast "limit")]
	  			[:div {:style {:border "gray solid 3px" :backgroundColor @rectangleFillColor :color @rectangleColor} :class "box forecast-rectangle-btn-badge"}(get (get route "ship") "status")[:br](get route "forecast")[:br](get forecast "assignee")]
	    	]	
	    )
)

;; Launches the Forecast Editor ...
(defn dropdownOptionHandler
	[event route option id]
		(let [target (-> js/document (.getElementById id))]
			(m/modal! [forecast/ForecastEditor route (str id " - " option)] {:keyboard false :backdrop "static"})
		)
)

(defn
	ThreeDotContextMenuHandler
		[event route id]
			(menu/context! 
				event
				;; Most likely will have to build this on the fly ...
          		[id
           			["Option-1" (fn[event] (dropdownOptionHandler event route "Option-1" id))]
           			["Option-2" (fn[event] (dropdownOptionHandler event route "Option-2" id))]
           			["Option-3" (fn[event] (dropdownOptionHandler event route "Option-3" id))]
           			:divider ; <--- keyword is a divider
           			["Submenu Test" 
            			[;;"Submenu Test"
            				["Submenu Option 1" #(prn "Submenu Option 1")]
            				["Submenu Option 2" #(prn "Submenu Option 2")]
            				["Submenu Option 3" #(prn "Submenu Option 3")]
            				["Subsubmenu Test"
            					[;;"Subsubmenu Test"
	            					["Subsubmenu Option 1" #(prn "Subsubmenu Option 1")]
	            					["Subsubmenu Option 2" #(prn "Subsubmenu Option 2")]
	            					["Subsubmenu Option 3" #(prn "Subsubmenu Option 3")]
		            				["Subsubsubmenu Test"
            							[;;"Subsubsubmenu Test"
	            							["Subsubsubmenu Option 1" #(prn "Subsubsubmenu Option 1")]
	            							["Subsubsubmenu Option 2" #(prn "Subsubsubmenu Option 2")]
	            							["Subsubsubmenu Option 3" #(prn "Subsubsubmenu Option 3")]
            							]
            						]
            					]
            				]
            			]
            		]
            	]
            )
			(reset! selected-route nil) ;; HACK of the highest order!!! This will force a route selection again!
)

;; ThreeDot Menu Implementation ...
(defn ThreeDotMenu
    [route]
    	(let [uuid (get route "uuid") ship (get route "ship") id (str (get ship "name") (str (str " (" uuid)) ")")]
    		[menu/context-menu]
			[:ul {:class "dropbtn icons" :on-click (fn[event] (ThreeDotContextMenuHandler event route id))}
				[:li]
				[:li]
				[:li]
			]
		)
)	

;; blah, blah, blah ...
(defn generate-ship-description
	[route]
		(let [ship (get route "ship")]
			[:span {:style {:pointer-events "none"}}
				[:span {:style {:padding "10px"}}
					(get ship "name")
  					", "
					(str "Hull: " (get ship "hull"))
				]
  				[:br]
				[:span {:style {:padding "10px"}}
					(str "Start DTG: " (get route "start-dtg"))
				]
  				[:br]
				[:span {:style {:padding "10px"}}
  					"More text..."
  				]
			]
		)
)

;; blah, blah, blah ...
(defn generate-location-description
	[route]
		(let [ship (get route "ship")]
			[:span  {:style {:pointer-events "none"}}
				[:span {:style {:padding "10px"}}
					(get (get route "ship") "location")
				]
  				[:br]
				[:span {:style {:padding "10px"}}
					(str "FWC: " (get route "fwc"))
				]
  				[:br]
				[:span {:style {:padding "10px"}}
					(str "Region: " (get route "region"))
				]
  				[:br]
				[:span {:style {:padding "10px"}}
  					"More text..."
  				]
			]
		)
)

;; Here's where I'll apply the filters ...
(defn apply-filters 
	[routes filter]
		(let [filtered-routes (atom []) fwc (get filter "fwc") region (filter "region")]
			(if (and (= (count fwc) 0) (= (count region) 0))
				(reset! filtered-routes routes)	
				(doall
          			(for [[i s] (map-indexed (fn [i x] [i x]) (keys filter))]
            	 		^{:key i} 
            	 		(doall
	        	    		(for [item (get filter s)]
	        	    			(reset! filtered-routes (into @filtered-routes (filter-routes routes {s item})))
	        	    		)
	        	    	)
           			)
       			)
       		)
			@filtered-routes
		)
)

;; Route Table implementation ...
(defn RouteTable
	[route-data]
		(let [
				selected-uuid (get @selected-route "uuid") 
				background-color (atom ROW_SELECTION_COLOR)
	            ;;routes route-data
	            ;;test-data {"fwc" ["FWC-NORFOLK" "FWC-SD"] "region" ["EPAC" "WPAC"]}
	            ;;test-data {"fwc" ["FWC-SD"]}
	            ;;test-data {"region" ["SOUTH ATLANTIC"]}
	            ;;routes (apply-filters route-data test-data)
	            routes (apply-filters route-data @route-filter)
			]
			
			[:div {:id "route-table-parent-div"} 
				[:table 
					[:thead 
						[:tr
							[:th {:style {:width 40}}]
							[:th {:on-click #(update-sort-value :forecast-limit) :style {:width 200 :fontSize 18 :textDecoration "underline"} :class "noselect"} (str "FORECAST" @forecast-column)]
							[:th {:on-click #(update-sort-value :name) :style {:fontSize 18 :textDecoration "underline"} :class "noselect"} (str "SHIP" @ship-column)]
							[:th {:on-click #(update-sort-value :location):style {:fontSize 18 :textDecoration "underline"} :class "noselect"} (str "LOCATION" @location-column)]
						]
					]
					[:tbody  
						(for [route (pre-process-items routes)]
							(do
								;; Make sure to preserve selected route in the table ...
								(if (= selected-uuid (get route "uuid"))
									(reset! background-color ROW_SELECTION_COLOR)
									(reset! background-color ROW_DEFAULT_COLOR)
								)

								[:tr {:style {:background-color @background-color} :key (utils/generate-uuid) :id (get (get route "ship") "name") :on-click (fn[event] (tableRowOnClick event route)) :on-mouse-enter tableRowOnMouseEnter}			
									[:td {:key (utils/generate-uuid) :style {:width 40}}
										[ThreeDotMenu route]
	    							]
	    							[:td {:key (utils/generate-uuid) :style {:width 200}}
										[Forecast route]
	    							]
	    							[:td {:key (utils/generate-uuid) :style {:text-align "left"}}  
	    								(generate-ship-description route)
									]
									[:td {:key (utils/generate-uuid) :style {:text-align "left"}}
										(generate-location-description route)
									]
								]
							)
						)
					]
				]
			]
		)
)

;; Handler for role selection in select control ...
(defn role-selection-handler
	[selected-items]
		(reset! role-selection selected-items)
		(js/console.log (get @selected-route "uuid"))
		(js/console.log @role-selection)
)

;; Handler for role selection in select control ...
(defn option-selection-handler
	[selected-items]
		(reset! option-selection selected-items)
		(js/console.log @option-selection)
)

(defn Breadcrumb
	[]
		(let []
			;; Will have to build this on the fly based on ... I'm not sure what yet ...
			[:span {:class "breadcrumb" :style {:background-color "darkGray"}}
				[:li				
					[:a {:href "#"} "Home"]
				]
				[:li				
					[:a {:href "#"} "Level 1"]
				]
				[:li				
					[:a {:href "#"} "Level 2"] 
				]
				[:li				
					[:a {:href "#"} "Level 3"] 
				]
				[:li "Page"]
			]
		)
)

(defn Search
	[]
		(let []
			[:span {:class "search"}
				[:input {:class "search-field" :type "text" :id "search" :placeholder "Search..."}]
				[:button
					[:i {:class "fa fa-search"}]
				]
			]
		) 
)

(defn ship-icon-handler
	[route event]
		(let [ship-name (get (get route "ship") "name") uuid (get route "uuid")]
			(if (nil? route)
				(m/modal! (utils/show-msg "" "No route selected"))
				(m/modal! [forecast/ForecastEditor route (str ship-name " - " uuid)] {:keyboard false :backdrop "static"})
			)
		)
)

(defn sliders-icon-handler
	[route event]
		(let []
			(if (nil? route)
				(js/console.log "No route selected.")
				(js/console.log (get route "uuid"))
			)
		)
)

(defn user-plus-icon-handler
	[route event]
		(let []
			(if (nil? route)
				(js/console.log "No route selected.")
				(js/console.log (get route "uuid"))
			)
		)
)

(defn document-icon-handler
	[route event]
		(let []
			(if (nil? route)
				(js/console.log "No route selected.")
				(js/console.log (get route "uuid"))
			)
		)
)

(defn up-from-bracket-icon-handler
	[route event]
		(let []
			(if (nil? route)
				(js/console.log "No route selected.")
				(js/console.log (get route "uuid"))
			)
		)
)

(defn printer-icon-handler
	[route event]
		(let []
			(if (nil? route)
				(js/console.log "No route selected.")
				(js/console.log (get route "uuid"))
			)
		)
)

(defn toggleButtonOnClick
	[event]
		(let [element event.target]
	    	(if (= element.className "button-unselected")
	    		(do
	    			(set! element.className "button-selected")
	    		)
	    		(do
	    			(set! element.className "button-unselected")
	    		)
	    	)
	    )
)

(defn fwcToggleButtonOnClick
	[event fwc-text]
		(let [element event.target fwc-array (atom (get @route-filter "fwc"))]
			(pprint event.target.id)
	    	(if (= element.className "button-unselected")
	    		(do
	    			(set! element.className "button-selected")
	    			(reset! fwc-array (conj @fwc-array fwc-text))
	    			(reset! route-filter (assoc @route-filter "fwc" @fwc-array))
	    		)
	    		(do
	    			(set! element.className "button-unselected")
	    			(reset! fwc-array (remove #{fwc-text} @fwc-array ))
	    			(reset! route-filter (assoc @route-filter "fwc" @fwc-array))
	    		)
	    	)
	    	;;(pprint @fwc-array)
	    	;;(pprint @route-filter)
	    )
)

(defn regionToggleButtonOnClick
	[event region-text]
		(let [element event.target region-array (atom (get @route-filter "region"))]
			(pprint event.target.id)
	    	(if (= element.className "button-unselected")
	    		(do
	    			(set! element.className "button-selected")
	    			(reset! region-array (conj @region-array region-text))
	    			(reset! route-filter (assoc @route-filter "region" @region-array))
	    		)
	    		(do
	    			(set! element.className "button-unselected")
	    			(reset! region-array (remove #{region-text} @region-array ))
	    			(reset! route-filter (assoc @route-filter "region" @region-array))
	    		)
	    	)
	    	;;(pprint @region-array)
	    	;;(pprint @route-filter)
	    )
)

(defn RoutePanel
  	[]
  	
		[:div {:style {:background-color "darkGray"}}
	    	[m/modal-window]
      
	      	[:div {:style {:width "100%" :height "40px" :fontSize 25 }} 
	      		[:div {:style {:color "white" :display "flex" :justify-content "center" :width "75%" :float "left"}} @currentDTG]
				[:div {:style {:font-size 20}}
					[select
						{
							:is-multi false
							:is-searchable true
							:value @role-selection
							:options role-options
							:on-change (fn [selected-items] (role-selection-handler selected-items))
						}
					]
				]
	      	]
	
			[:div {:class "container-div"}
	  	  		[:div {:class "container-center"}
	  			  	[:div {:class "justify-center"}
	  					[ToggleButton "FWC-SD" "text here ..." {:on-click (fn[event] (fwcToggleButtonOnClick event "FWC-SD"))}] 
	  					[ToggleButton "EPAC" "text here ..." {:on-click (fn[event] (regionToggleButtonOnClick event "EPAC"))}]
	  					[ToggleButton "WPAC" "text here ..." {:on-click (fn[event] (regionToggleButtonOnClick event "WPAC"))}]
	  					[ToggleButton "ARAB GULF" "text here ..." {:on-click (fn[event] (regionToggleButtonOnClick event "ARABIAN GULF"))}]
	  					[ToggleButton "ARAB SEA" "text here ..." {:on-click (fn[event] (regionToggleButtonOnClick event "ARABIAN SEA"))}]
	  					[ToggleButton "ReadSea/Omn" "text here ..." {:on-click (fn[event] (regionToggleButtonOnClick event "RED SEA"))}]
	  					[ToggleButton "JAPAN" "text here ..."  {:on-click toggleButtonOnClick}]
	  					[ToggleButton "MAR COUNT" "text here ..." {:on-click (fn[event] (regionToggleButtonOnClick event "MARITIME CONTINENT"))}]
	  					[ToggleButton "Custom" "text here ..." {:on-click toggleButtonOnClick}]
					]
	
					[:div {:class "justify-center"}
						[ToggleButton "All" "text here ..." {:on-click toggleButtonOnClick}]
	  					[ToggleButton "ROUTE RECO" "text here ..." {:on-click toggleButtonOnClick}]
	  					[ToggleButton "LIMITS" "text here ..." {:on-click toggleButtonOnClick}]
	  					[ToggleButton " " "text here ..." {:on-click toggleButtonOnClick}]
	  					[ToggleButton "OPAREA FCST" "text here ..." {:on-click toggleButtonOnClick}]
	  					[ToggleButton "XSIT" "text here ..." {:on-click toggleButtonOnClick}]
	  					[ToggleButton "MODLOC" "text here ..." {:on-click toggleButtonOnClick}]
	  					[ToggleButton "OPAREA Ships" "text here ..." {:on-click toggleButtonOnClick}]
	  					[ToggleButton "Port" "text here ..." {:on-click toggleButtonOnClick}]
	   				]
	
	   				[:div {:style {:display "flex" :justify-content "center" :align-items "center" :height "60px"}}
	   					[:span {:style {:position "absolute" :left "0px" :width "50%" :padding-top "8px"}}
	   						[Breadcrumb]	
	   					]
	   					[:span {:style {:position "relative" :top "7px" :width "20%"}}
							[select
						    {
								:is-multi false
								:is-searchable true
								:value @option-selection
								:options options
								:on-change (fn [selected-items] (option-selection-handler selected-items))
							}
						]
					]
	   					[:span {:style {:position "absolute" :right "0px" :width "50%" :padding-top "15px"}}
	   						[Search]
	   						[:i {:class "fa-solid fa-ship" :style {:cursor "pointer" :position "relative" :top "7px" :padding-left "10px" :font-size 25} :on-click (fn[event] (ship-icon-handler @selected-route event))}]
	   						[:i {:class "fa-solid fa-sliders" :style {:cursor "pointer" :position "relative" :top "7px" :padding-left "10px" :font-size 25} :on-click (fn[event] (sliders-icon-handler @selected-route event))}]
	   						[:i {:class "fa-solid fa-user-plus" :style {:cursor "pointer" :position "relative" :top "7px" :padding-left "10px" :font-size 25} :on-click (fn[event] (user-plus-icon-handler @selected-route event))}]
	   						[:i {:class "fa-regular fa-file" :style {:cursor "pointer" :position "relative" :top "7px" :padding-left "10px" :font-size 25} :on-click (fn[event] (document-icon-handler @selected-route event))}]
	   						[:i {:class "fa-solid fa-arrow-up-from-bracket" :style {:cursor "pointer" :position "relative" :top "7px" :padding-left "10px" :font-size 25} :on-click (fn[event] (up-from-bracket-icon-handler @selected-route event))}]
	   						[:i {:class "fa-solid fa-print" :style {:cursor "pointer" :position "relative" :top "7px" :padding-left "10px" :font-size 25} :on-click  (fn[event] (printer-icon-handler @selected-route event))}]
	   					]
	   				]
	
					[:br]
					
					;; This is using my test data ...
					;;[RouteTable routeData]

					;; This is using routes from orchestrator ...
					[RouteTable @state/routes]
				]
			
				[:div {:class "container-right" :style {:backgroundColor "lightGray"}}
	 				[:div {:class "justify-center"}
						[shipInfo/GenerateShipInfoPanel @selected-route]		
					]
	   			]
			]
		]
)